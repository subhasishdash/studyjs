<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
	<link rel="shortcut icon" sizes="256x256" href="../images/logo.PNG" />
    <title>StudyJS.com : How to scrape a website in Node.JS?</title>
	<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">
    <!-- Bootstrap Core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../css/blog-post.css" rel="stylesheet">
<script type="text/javascript" src="../js/analytics.js"></script>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="http://www.studyjs.com"><img width="138" src="http://www.studyjs.com/images/logo.PNG"></a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <!-- <li>
                        <a href="#">About</a>
                    </li>
                    <li>
                        <a href="#">Services</a>
                    </li>
                    <li>
                        <a href="#">Contact</a>
                    </li> -->
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Content -->
    <div class="container">

        <div class="row">

            <!-- Blog Post Content Column -->
            <div class="col-lg-8">

                <!-- Blog Post -->

                <!-- Title -->
                <h1>How to scrape a website in Node.JS?</h1>

                <!-- Author -->
<!--                 <p class="lead"> -->
<!--                     by <a href="#">Start Bootstrap</a> -->
<!--                 </p> -->

                <hr>

                <!-- Date/Time -->
                <p><span class="glyphicon glyphicon-time"></span> Posted on March 12, 2016 at 9:00 PM</p>

                <hr>

                <!-- Preview Image -->
<!--                 <img class="img-responsive" src="http://placehold.it/900x300" alt=""> -->

<!--                 <hr> -->

                <!-- Post Content -->
<!--                 <p class="lead">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ducimus, vero, obcaecati, aut, error quam sapiente nemo saepe quibusdam sit excepturi nam quia corporis eligendi eos magni recusandae laborum minus inventore?</p> -->
<!--                 <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ut, tenetur natus doloremque laborum quos iste ipsum rerum obcaecati impedit odit illo dolorum ab tempora nihil dicta earum fugiat. Temporibus, voluptatibus.</p> -->
<!--                 <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eos, doloribus, dolorem iusto blanditiis unde eius illum consequuntur neque dicta incidunt ullam ea hic porro optio ratione repellat perspiciatis. Enim, iure!</p> -->
<!--                 <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Error, nostrum, aliquid, animi, ut quas placeat totam sunt tempora commodi nihil ullam alias modi dicta saepe minima ab quo voluptatem obcaecati?</p> -->
<!--                 <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Harum, dolor quis. Sunt, ut, explicabo, aliquam tenetur ratione tempore quidem voluptates cupiditate voluptas illo saepe quaerat numquam recusandae? Qui, necessitatibus, est!</p> -->
<strong>Web scraping</strong> (web harvesting or web data extraction) is a computer software technique of extracting information from websites. Usually, such software programs simulate human exploration of the World Wide Web by either implementing low-level Hypertext Transfer Protocol (HTTP), or embedding a fully-fledged web browser, such as Mozilla Firefox.
<br>Web scraping is closely related to web indexing, which indexes information on the web using a bot or web crawler and is a universal technique adopted by most search engines. In contrast, web scraping focuses more on the transformation of unstructured data on the web, typically in HTML format, into structured data that can be stored and analyzed in a central local database or spreadsheet. Web scraping is also related to web automation, which simulates human browsing using computer software. Uses of web scraping include online price comparison, contact scraping, weather data monitoring, website change detection, research, web mashup and web data integration.
[<a href="https://en.wikipedia.org/wiki/Web_scraping" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://nodejs.org/', 'WebScraping');" target="_blank">Source</a>]
<br><strong>Note : Web scraping may be against the terms of use of some websites. So, don't do it unless you are sure of not loosing anything.</strong>

     <br><hr>
     In this tutorial, we will be showing you how to build a simple web scraper that gets some jobs from indeed. The technologies we will be using to accomplish this are:

  <ul class="list-group">
<li class="list-group-item"><a href="http://nodejs.org/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://nodejs.org/', 'NodeJS');" target="_blank">NodeJS</a></li>
<li class="list-group-item"><a href="http://expressjs.com/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://expressjs.com/', 'ExpressJS');" target="_blank">ExpressJS</a>: The Node framework that everyone uses and loves.</li>
<li class="list-group-item"><a href="https://github.com/mikeal/request" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/mikeal/request', 'Request');" target="_blank">Request</a>: Helps us make HTTP calls</li>
<li class="list-group-item"><a href="https://github.com/MatthewMueller/cheerio" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/MatthewMueller/cheerio', 'Cheerio');" target="_blank">Cheerio</a>: Implementation of core jQuery specifically for the server (helps us traverse the DOM and extract data)</li>
</ul>
	Let's build the project:
	<br>
	In order to build any node.js project , first of all you will need to create your package.json.
	Let's create it : <br>
	Open command prompt and point to the folder you want to create the node.js project onto.
	I am adding the screenshot for how I did it :
	<br><img class="img-responsive" src="../images/nodejs/nodeworkspace.PNG">
	<hr>
	Now we will need to add the required dependencies for scraping jobs ,so let's do it :
	<br>
	In order to add a dependency to your project, you need to do <strong>npm install [package-name(s)] --save</strong>
	<br>
	<pre>So, we must be doing something like this :
E:\NODEJSWorkspace\aggregator&gt;npm install --save express request cheerio
Hit enter and then check your package.json @ E:\NODEJSWorkspace\aggregator\package.json
I am adding my package.json(our versions may vary depending on updates from these libraries):
{
  "name": "aggregator",
  "version": "1.0.0",
  "description": "It is responsible for fetching Jobs from indeed",
  "main": "app.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "author": "StudyJS.com",
  "license": "MIT",
  "dependencies": {
    "cheerio": "^0.20.0",
    "express": "^4.13.4",
    "request": "^2.69.0"
  }
}
</pre>
	<hr>
	<strong>Our basic flow will be as follows:</strong>
	<br>
	Let's start writing the app.js ,which will be entry point in our application:
	<pre>var express = require('express');
var fs = require('fs');
var request = require('request');
var cheerio = require('cheerio');
var app     = express();
var PORT = 3000;

//Let's search node.js jobs
var careerUrl = 'http://www.indeed.co.in/nodejs-jobs';

app.get('/scrapeJobs', function(req, res){
//we will use request to connect to the indeed carrer portal and get the html data as response
  request(careerUrl, function (error, response, htmlData) {
	if(error) {
		console.log(careerUrl + ' is either broken or unreachable , please check and try again');
	} else {
		// Next, we'll utilize the cheerio library on the returned html which will essentially give us jQuery functionality
        var $ = cheerio.load(htmlData);
		var jobs = [];

		$('div.row.result').each(function(i, elem) {
		  jobs.push($(this).text());
		});
		jobs.join(', ');
		console.log(jobs);
	   }
		});
		res.send('check console');
});
app.listen(PORT);
console.log('Server running @ ' + PORT);
	</pre>
	<hr>
	So, we are done with the coding part ,
	let's run the application now:
	<ul>
    <li>Launch web server : <pre>E:\NODEJSWorkspace\aggregator&gt;node app
Server running @ 3000</pre></li>
    <li>Visit a URL on our server that activates the web scraper : <pre>http://localhost:3000/scrapeJobs</pre></li>
    <li>The scraper will make a request to the website we want to scrape</li>
    <li>The request will capture the HTML of the website and pass it along to our server</li>
    <li>We will traverse the DOM and extract the information we want</li>
    <li>Next, we will format and print the extracted data into a format we need : <strong>You can check your server console for the output from the website.</strong></li>
	</ul>
	<pre>Note : Above explanation is just for understanding how to scrape data from various websites.
If you are getting excited with this idea and want to build a website for searching jobs , 
you can go to indeed's api @ http://www.indeed.co.in/publisher , create a account there and get started.</pre> 
              <div class="row">
                <div class="col-xs-9">
                  <h4><span class="label label-default">Node.js</span></h4><h4>
                  <small class="text-muted" style="font-family:courier,'new courier';">12th March 2016</small>
                  </h4></div>
                <div class="col-xs-3"></div>
              </div>
              <br><br>
                <hr>
            </div>

            <!-- Blog Sidebar Widgets Column -->
            <div class="col-md-4">
 <!-- 
                Blog Search Well
                <div class="well">
                    <h4>Blog Search</h4>
                    <div class="input-group">
                        <input type="text" class="form-control">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button">
                                <span class="glyphicon glyphicon-search"></span>
                        </button>
                        </span>
                    </div>
                </div>

               Blog Categories Well
                <div class="well">
                    <h4>Blog Categories</h4>
                    <div class="row">
                        <div class="col-lg-6">
                            <ul class="list-unstyled">
                                <li><a href="#">Category Name</a>
                                </li>
                                <li><a href="#">Category Name</a>
                                </li>
                                <li><a href="#">Category Name</a>
                                </li>
                                <li><a href="#">Category Name</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-lg-6">
                            <ul class="list-unstyled">
                                <li><a href="#">Category Name</a>
                                </li>
                                <li><a href="#">Category Name</a>
                                </li>
                                <li><a href="#">Category Name</a>
                                </li>
                                <li><a href="#">Category Name</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div> -->

                <div class="well">
<!--                     <h4>Side Widget Well</h4> -->
                    <p>Please donate us to keep going and write unlimited free helpful articles which could be useful for you.</p>
                    <form target="paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="Z23PEFZ4ED5GN">
<table>
<tr><td><input type="hidden" name="on0" value="Options"></td></tr><tr><td><select name="os0">
	<option value="We saved some time">We saved some time $10.00 USD</option>
	<option value="you liked us and wants us to improve">you liked us and wants us to improve $25.00 USD</option>
	<option value="Really impressed">Really impressed $50.00 USD</option>
</select> </td></tr>
</table>
<input type="hidden" name="currency_code" value="USD">
<input type="image" src="../images/paypal-donate-button.png" border="0" name="submit" alt="PayPal – The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1" height="1">
</form>
                    
                </div>

            </div> 

        </div>
        <!-- /.row -->

        <hr>
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    
    var disqus_config = function () {
        this.page.url = location.href;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = location.href + new Date(); // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//studyjscom.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
 
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        <!-- Footer -->
        <footer>
			
             <div class="row">
                <div class="col-lg-12">
                    <p class="col-lg-8">Copyright &copy; StudyJS.com 2016</p>
<!--                     <a class="btn btn-twitter btn-lg col-lg-2" href="https://twitter.com/StudyJSdotCom" target="_blank"><i class="icon-twitter icon-large"></i> Twitter</a> -->
<!-- 	   				<a class="btn btn-facebook btn-lg col-lg-2" href="https://www.facebook.com/StudyJSdotcom/" target="_blank"><i class="icon-facebook icon-large"></i> Facebook</a> -->
                </div>
            </div>
            <!-- /.row -->
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="../js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../js/bootstrap.min.js"></script>

</body>

</html>
